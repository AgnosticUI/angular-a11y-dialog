<portal-host *ngIf="mounted | async" [teleportTo]="portalTarget">
  <div
    #rootElement
    [id]="id"
    [class]="classNames?.container"
    [attr.role]="role"
    [attr.aria-labelledby]="fullTitleId"
    aria-hidden="true"
  >
    <div
      data-a11y-dialog-hide
      tabIndex="-1"
      [class]="classNames?.overlay"
      (click)="role === 'alertdialog' ? undefined : close()"
    ></div>
    <div
      role="document"
      [class]="classNames?.document"
    >
      <button
        *ngIf="closeButtonPosition == 'first'"
        data-a11y-dialog-hide
        type="button"
        [attr.aria-label]="closeButtonLabel"
        [class]="classNames?.closeButton"
        (click)="close()"
      >
        <ng-container *ngTemplateOutlet="closeButtonContentFirst"></ng-container>
      </button>
      <p
        [id]="fullTitleId"
        [class]="classNames?.title"
      >
        <ng-container *ngTemplateOutlet="title"></ng-container>
      </p>
      <ng-container *ngTemplateOutlet="mainContent"></ng-container>
      <button
        *ngIf="closeButtonPosition == 'last'"
        data-a11y-dialog-hide
        type="button"
        [attr.aria-label]="closeButtonLabel"
        [class]="classNames?.closeButton"
        (click)="close()"
      >
        <ng-container *ngTemplateOutlet="closeButtonContentLast"></ng-container>
      </button>
    </div>
  </div>
</portal-host>
